<template>
  <nav class="bg-white shadow-md px-6 py-4 flex justify-between items-center mb-6 rounded-b-2xl">
    <div class="flex space-x-4">
      <button @click="goTo('/giderDonemler')" :class="linkClass('/giderDonemler')">
        Harcama DÃ¶nemleri
      </button>

      <button @click="goTo('/randevular')" :class="linkClass('/randevular')">
        Randevular
      </button>

      <button @click="goTo('/takvim')" :class="linkClass('/takvim')">
        Takvim
      </button>
    </div>

    <button @click="logout" class="bg-red-500 hover:bg-red-600 text-white font-semibold px-4 py-2 rounded-md">
      Ã‡Ä±kÄ±ÅŸ
    </button>
  </nav>
</template>

<script setup lang="ts">
import { useRoute, navigateTo } from '#imports'
const user = useState('user')  // ğŸ”¥ Global kullanÄ±cÄ± state'i
const route = useRoute()

// Linke uygun stil dÃ¶ndÃ¼r
const linkClass = (path: string): string[] => {
  return [
    'font-semibold',
    route.path === path ? 'text-blue-800' : 'text-blue-600 hover:underline'
  ]
}

// Sayfa yÃ¶nlendirme
function goTo(path: string): void {
  navigateTo(path)
}

// Ã‡Ä±kÄ±ÅŸ iÅŸlemi
function logout(): void {
  user.value = null  // ğŸ§¹ Global kullanÄ±cÄ± bilgisini temizle
  navigateTo('/')
}
</script>
